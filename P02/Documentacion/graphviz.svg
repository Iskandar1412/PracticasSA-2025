<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1088pt" height="310pt" viewBox="0.00 0.00 1088.21 310.40">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 306.4)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-306.4 1084.21,-306.4 1084.21,4 -4,4"/>
<!-- U -->
<g id="node1" class="node">
<title>U</title>
<ellipse fill="lightblue" stroke="black" cx="552.55" cy="-284.4" rx="41.61" ry="18"/>
<text text-anchor="middle" x="552.55" y="-280.2" font-family="Times,serif" font-size="14.00">Usuario</text>
</g>
<!-- C -->
<g id="node2" class="node">
<title>C</title>
<polygon fill="lightgreen" stroke="black" points="604.67,-213.6 500.42,-213.6 500.42,-177.6 604.67,-177.6 604.67,-213.6"/>
<text text-anchor="middle" x="552.55" y="-191.4" font-family="Times,serif" font-size="14.00">Cliente (Svelte)</text>
</g>
<!-- U&#45;&gt;C -->
<g id="edge1" class="edge">
<title>U-&gt;C</title>
<path fill="none" stroke="black" d="M552.55,-266.25C552.55,-254.56 552.55,-238.79 552.55,-225.22"/>
<polygon fill="black" stroke="black" points="556.05,-225.52 552.55,-215.52 549.05,-225.52 556.05,-225.52"/>
<text text-anchor="middle" x="663.32" y="-235.8" font-family="Times,serif" font-size="14.00">Ingresa credenciales (email/contraseña)</text>
</g>
<!-- C&#45;&gt;C -->
<g id="edge6" class="edge">
<title>C-&gt;C</title>
<path fill="none" stroke="black" d="M605.15,-203.55C615.4,-202.63 622.67,-199.98 622.67,-195.6 622.67,-193.07 620.24,-191.11 616.21,-189.74"/>
<polygon fill="black" stroke="black" points="617.11,-186.35 606.64,-187.93 615.81,-193.22 617.11,-186.35"/>
<text text-anchor="middle" x="740.84" y="-191.4" font-family="Times,serif" font-size="14.00">Almacena el JWT (cookie o local storage)</text>
</g>
<!-- S -->
<g id="node3" class="node">
<title>S</title>
<polygon fill="lightcoral" stroke="black" points="642.26,-124.8 462.84,-124.8 462.84,-88.8 642.26,-88.8 642.26,-124.8"/>
<text text-anchor="middle" x="552.55" y="-102.6" font-family="Times,serif" font-size="14.00">Servidor (Node.js + Express)</text>
</g>
<!-- C&#45;&gt;S -->
<g id="edge2" class="edge">
<title>C-&gt;S</title>
<path fill="none" stroke="black" d="M500.35,-195.23C369.84,-196.26 37.35,-195.32 3.83,-159.6 -1.28,-154.15 -1.28,-148.25 3.83,-142.8 33.69,-110.98 300.86,-106.76 451.09,-106.95"/>
<polygon fill="black" stroke="black" points="451.06,-110.45 461.07,-106.97 451.08,-103.45 451.06,-110.45"/>
<text text-anchor="middle" x="143.19" y="-147" font-family="Times,serif" font-size="14.00">Envía solicitud de autenticación con credenciales</text>
</g>
<!-- C&#45;&gt;S -->
<g id="edge7" class="edge">
<title>C-&gt;S</title>
<path fill="none" stroke="black" d="M499.99,-194.17C439.65,-192.44 346.11,-185.5 323.87,-159.6 319.01,-153.93 319.01,-148.47 323.87,-142.8 340.66,-123.24 398.11,-114.5 451.22,-110.64"/>
<polygon fill="black" stroke="black" points="451.22,-114.15 460.97,-109.99 450.75,-107.16 451.22,-114.15"/>
<text text-anchor="middle" x="436.21" y="-147" font-family="Times,serif" font-size="14.00">Envía JWT en cada petición al backend</text>
</g>
<!-- S&#45;&gt;C -->
<g id="edge5" class="edge">
<title>S-&gt;C</title>
<path fill="none" stroke="black" d="M552.55,-125.21C552.55,-136.96 552.55,-152.74 552.55,-166.28"/>
<polygon fill="black" stroke="black" points="549.05,-165.94 552.55,-175.94 556.05,-165.94 549.05,-165.94"/>
<text text-anchor="middle" x="635.73" y="-147" font-family="Times,serif" font-size="14.00">Genera y envía JWT firmado</text>
</g>
<!-- S&#45;&gt;C -->
<g id="edge9" class="edge">
<title>S-&gt;C</title>
<path fill="none" stroke="black" d="M642.55,-109.89C695,-114.48 746.05,-126.96 719.55,-159.6 706.46,-175.71 657.65,-184.67 616.15,-189.48"/>
<polygon fill="black" stroke="black" points="616.02,-185.98 606.46,-190.54 616.78,-192.94 616.02,-185.98"/>
<text text-anchor="middle" x="814.07" y="-147" font-family="Times,serif" font-size="14.00">Responde con datos protegidos</text>
</g>
<!-- S&#45;&gt;C -->
<g id="edge11" class="edge">
<title>S-&gt;C</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M642.67,-107.94C758.99,-109.74 942.4,-118.91 905.55,-159.6 886.55,-180.57 712.91,-189.47 616.44,-192.82"/>
<polygon fill="black" stroke="black" points="616.47,-189.32 606.59,-193.15 616.7,-196.32 616.47,-189.32"/>
<text text-anchor="middle" x="995.28" y="-147" font-family="Times,serif" font-size="14.00">Retorna error de autenticación</text>
</g>
<!-- S&#45;&gt;S -->
<g id="edge8" class="edge">
<title>S-&gt;S</title>
<path fill="none" stroke="black" d="M642.51,-113.95C653.24,-112.65 660.26,-110.27 660.26,-106.8 660.26,-104.74 657.78,-103.06 653.53,-101.77"/>
<polygon fill="black" stroke="black" points="654.47,-98.39 643.99,-99.93 653.15,-105.26 654.47,-98.39"/>
<text text-anchor="middle" x="734.69" y="-102.6" font-family="Times,serif" font-size="14.00">Verifica y decodifica JWT</text>
</g>
<!-- DB -->
<g id="node4" class="node">
<title>DB</title>
<path fill="lightgray" stroke="black" d="M629.95,-32.73C629.95,-34.53 595.26,-36 552.55,-36 509.84,-36 475.14,-34.53 475.14,-32.73 475.14,-32.73 475.14,-3.27 475.14,-3.27 475.14,-1.47 509.84,0 552.55,0 595.26,0 629.95,-1.47 629.95,-3.27 629.95,-3.27 629.95,-32.73 629.95,-32.73"/>
<path fill="none" stroke="black" d="M629.95,-32.73C629.95,-30.92 595.26,-29.45 552.55,-29.45 509.84,-29.45 475.14,-30.92 475.14,-32.73"/>
<text text-anchor="middle" x="552.55" y="-13.8" font-family="Times,serif" font-size="14.00">Base de Datos (MySQL)</text>
</g>
<!-- S&#45;&gt;DB -->
<g id="edge3" class="edge">
<title>S-&gt;DB</title>
<path fill="none" stroke="black" d="M462.35,-104.57C402.52,-101.63 331.55,-93.29 312.1,-70.8 307.21,-65.15 307.21,-59.65 312.1,-54 331.67,-31.37 403.39,-23.07 463.44,-20.17"/>
<polygon fill="black" stroke="black" points="463.54,-23.67 473.38,-19.74 463.24,-16.68 463.54,-23.67"/>
<text text-anchor="middle" x="421.32" y="-58.2" font-family="Times,serif" font-size="14.00">Valida credenciales en la base de datos</text>
</g>
<!-- DB&#45;&gt;S -->
<g id="edge4" class="edge">
<title>DB-&gt;S</title>
<path fill="none" stroke="black" d="M552.55,-36.41C552.55,-48.16 552.55,-63.94 552.55,-77.48"/>
<polygon fill="black" stroke="black" points="549.05,-77.14 552.55,-87.14 556.05,-77.14 549.05,-77.14"/>
<text text-anchor="middle" x="610.67" y="-58.2" font-family="Times,serif" font-size="14.00">Credenciales válidas</text>
</g>
<!-- DB&#45;&gt;S -->
<g id="edge10" class="edge">
<title>DB-&gt;S</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M630.39,-29.32C660.96,-36.81 685.4,-49.51 669.55,-70.8 664.82,-77.14 659,-82.38 652.48,-86.7"/>
<polygon fill="black" stroke="black" points="650.77,-83.65 643.82,-91.64 654.24,-89.73 650.77,-83.65"/>
<text text-anchor="middle" x="738.09" y="-58.2" font-family="Times,serif" font-size="14.00">Credenciales inválidas</text>
</g>
</g>
</svg>